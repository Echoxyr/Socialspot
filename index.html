<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SocialSpot - Connettiti con eventi locali</title>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        /* Basic Tailwind-like CSS */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        .min-h-screen { min-height: 100vh; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .bg-gradient-to-br { background: linear-gradient(to bottom right, var(--tw-gradient-stops)); }
        .from-blue-600 { --tw-gradient-from: #2563eb; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(37, 99, 235, 0)); }
        .to-orange-500 { --tw-gradient-to: #f97316; }
        .bg-white { background-color: white; }
        .bg-gray-50 { background-color: #f9fafb; }
        .bg-gray-100 { background-color: #f3f4f6; }
        .rounded-2xl { border-radius: 1rem; }
        .rounded-xl { border-radius: 0.75rem; }
        .rounded-lg { border-radius: 0.5rem; }
        .rounded-full { border-radius: 9999px; }
        .shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .shadow-xl { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        .shadow-2xl { box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
        .p-2 { padding: 0.5rem; }
        .p-3 { padding: 0.75rem; }
        .p-4 { padding: 1rem; }
        .p-5 { padding: 1.25rem; }
        .p-6 { padding: 1.5rem; }
        .p-8 { padding: 2rem; }
        .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .py-6 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
        .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
        .py-12 { padding-top: 3rem; padding-bottom: 3rem; }
        .pt-6 { padding-top: 1.5rem; }
        .pb-20 { padding-bottom: 5rem; }
        .pb-24 { padding-bottom: 6rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-3 { margin-bottom: 0.75rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mt-1 { margin-top: 0.25rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-4 { margin-top: 1rem; }
        .mt-6 { margin-top: 1.5rem; }
        .mt-8 { margin-top: 2rem; }
        .ml-2 { margin-left: 0.5rem; }
        .ml-auto { margin-left: auto; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .w-8 { width: 2rem; }
        .w-10 { width: 2.5rem; }
        .w-12 { width: 3rem; }
        .w-16 { width: 4rem; }
        .w-20 { width: 5rem; }
        .w-24 { width: 6rem; }
        .w-full { width: 100%; }
        .w-80 { width: 20rem; }
        .h-8 { height: 2rem; }
        .h-10 { height: 2.5rem; }
        .h-12 { height: 3rem; }
        .h-16 { height: 4rem; }
        .h-20 { height: 5rem; }
        .h-24 { height: 6rem; }
        .h-full { height: 100%; }
        .max-w-md { max-width: 28rem; }
        .max-w-sm { max-width: 24rem; }
        .max-w-2xl { max-width: 42rem; }
        .max-h-80 { max-height: 20rem; }
        .max-h-[90vh] { max-height: 90vh; }
        .text-xs { font-size: 0.75rem; }
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .font-medium { font-weight: 500; }
        .font-semibold { font-weight: 600; }
        .font-bold { font-weight: 700; }
        .text-white { color: white; }
        .text-gray-400 { color: #9ca3af; }
        .text-gray-500 { color: #6b7280; }
        .text-gray-600 { color: #4b5563; }
        .text-gray-700 { color: #374151; }
        .text-gray-800 { color: #1f2937; }
        .text-gray-900 { color: #111827; }
        .text-blue-600 { color: #2563eb; }
        .text-blue-700 { color: #1d4ed8; }
        .text-green-600 { color: #16a34a; }
        .text-green-700 { color: #15803d; }
        .text-orange-600 { color: #ea580c; }
        .text-purple-600 { color: #9333ea; }
        .text-red-600 { color: #dc2626; }
        .text-yellow-600 { color: #ca8a04; }
        .bg-blue-100 { background-color: #dbeafe; }
        .bg-blue-600 { background-color: #2563eb; }
        .bg-blue-700 { background-color: #1d4ed8; }
        .bg-green-100 { background-color: #dcfce7; }
        .bg-green-600 { background-color: #16a34a; }
        .bg-orange-100 { background-color: #fed7aa; }
        .bg-orange-500 { background-color: #f97316; }
        .bg-orange-600 { background-color: #ea580c; }
        .bg-purple-100 { background-color: #f3e8ff; }
        .bg-red-50 { background-color: #fef2f2; }
        .bg-yellow-400 { background-color: #facc15; }
        .bg-green-50 { background-color: #f0fdf4; }
        .bg-gray-200 { background-color: #e5e7eb; }
        .bg-gray-300 { background-color: #d1d5db; }
        .border { border-width: 1px; }
        .border-t { border-top-width: 1px; }
        .border-b { border-bottom-width: 1px; }
        .border-2 { border-width: 2px; }
        .border-gray-100 { border-color: #f3f4f6; }
        .border-gray-200 { border-color: #e5e7eb; }
        .border-gray-300 { border-color: #d1d5db; }
        .cursor-pointer { cursor: pointer; }
        .cursor-not-allowed { cursor: not-allowed; }
        .space-y-2 > * + * { margin-top: 0.5rem; }
        .space-y-3 > * + * { margin-top: 0.75rem; }
        .space-y-4 > * + * { margin-top: 1rem; }
        .space-y-6 > * + * { margin-top: 1.5rem; }
        .gap-1 { gap: 0.25rem; }
        .gap-2 { gap: 0.5rem; }
        .gap-3 { gap: 0.75rem; }
        .gap-4 { gap: 1rem; }
        .grid { display: grid; }
        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        .sticky { position: sticky; }
        .fixed { position: fixed; }
        .absolute { position: absolute; }
        .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
        .top-0 { top: 0; }
        .left-0 { left: 0; }
        .bottom-0 { bottom: 0; }
        .right-0 { right: 0; }
        .z-40 { z-index: 40; }
        .z-50 { z-index: 50; }
        .overflow-y-auto { overflow-y: auto; }
        .transform { transform: translateX(var(--tw-translate-x, 0)) translateY(var(--tw-translate-y, 0)) rotate(var(--tw-rotate, 0)) skewX(var(--tw-skew-x, 0)) skewY(var(--tw-skew-y, 0)) scaleX(var(--tw-scale-x, 1)) scaleY(var(--tw-scale-y, 1)); }
        .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .transition-colors { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .transition-opacity { transition-property: opacity; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .hover\:bg-gray-100:hover { background-color: #f3f4f6; }
        .hover\:bg-gray-200:hover { background-color: #e5e7eb; }
        .hover\:bg-gray-300:hover { background-color: #d1d5db; }
        .hover\:bg-blue-200:hover { background-color: #bfdbfe; }
        .hover\:bg-blue-700:hover { background-color: #1d4ed8; }
        .hover\:bg-red-50:hover { background-color: #fef2f2; }
        .hover\:text-gray-700:hover { color: #374151; }
        .hover\:text-gray-900:hover { color: #111827; }
        .hover\:text-blue-700:hover { color: #1d4ed8; }
        .hover\:shadow-md:hover { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .hover\:shadow-lg:hover { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .hover\:opacity-90:hover { opacity: 0.9; }
        .hover\:underline:hover { text-decoration-line: underline; }
        .focus\:ring-2:focus { box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color); }
        .focus\:ring-blue-500:focus { --tw-ring-color: #3b82f6; }
        .focus\:border-transparent:focus { border-color: transparent; }
        .disabled\:opacity-50:disabled { opacity: 0.5; }
        .disabled\:cursor-not-allowed:disabled { cursor: not-allowed; }
        .opacity-75 { opacity: 0.75; }
        .opacity-90 { opacity: 0.9; }
        .bg-opacity-10 { --tw-bg-opacity: 0.1; }
        .bg-opacity-50 { --tw-bg-opacity: 0.5; }
        .bg-black { background-color: black; }
        .truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .text-center { text-align: center; }
        .text-left { text-align: left; }
        .leading-relaxed { line-height: 1.625; }
        .inline-block { display: inline-block; }
        .inline-flex { display: inline-flex; }
        .flex-1 { flex: 1 1 0%; }
        .order-1 { order: 1; }
        .order-2 { order: 2; }
        .max-w-[80%] { max-width: 80%; }
        .-mt-4 { margin-top: -1rem; }
        .animate-spin { animation: spin 1s linear infinite; }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes pulse { 50% { opacity: .5; } }
        .border-b-2 { border-bottom-width: 2px; }
        .bg-clip-text { background-clip: text; -webkit-background-clip: text; }
        .text-transparent { color: transparent; }
        
        /* Custom gradients */
        .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
        .from-blue-600.to-orange-500 { background-image: linear-gradient(to right, #2563eb, #f97316); }
        .from-blue-600.to-blue-700 { background-image: linear-gradient(to right, #2563eb, #1d4ed8); }
        .from-blue-700.to-blue-800 { background-image: linear-gradient(to right, #1d4ed8, #1e40af); }
        .from-orange-500.to-orange-600 { background-image: linear-gradient(to right, #f97316, #ea580c); }
        .from-yellow-400.to-orange-500 { background-image: linear-gradient(to right, #facc15, #f97316); }
        .from-blue-600.to-orange-400 { background-image: linear-gradient(to right, #2563eb, #fb923c); }
        
        /* Input styles */
        input, textarea, select {
            appearance: none;
            background-color: white;
            border-color: #d1d5db;
            border-width: 1px;
            border-radius: 0.5rem;
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            line-height: 1.25rem;
        }
        input:focus, textarea:focus, select:focus {
            outline: 2px solid transparent;
            outline-offset: 2px;
            box-shadow: 0 0 0 2px #3b82f6;
            border-color: transparent;
        }
        
        /* Button styles */
        button {
            cursor: pointer;
            border: none;
            background: none;
            font-family: inherit;
        }
        button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script>
        // Configurazione Supabase
        const SUPABASE_URL = 'https://wsmjnssfmujdfgthyizw.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndzbWpuc3NmbXVqZGZndGh5aXp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4ODA3NjIsImV4cCI6MjA2NjQ1Njc2Mn0.t91X-fGIolFBPnhr5_sexJMqzgdCDmXuEUXiL_pFId4';
        
        
        // React hooks
        const { useState, useEffect, useRef } = React;

        // === ICONS ===
        const HomeIcon = () => React.createElement('svg', {
            width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        }, 
            React.createElement('path', { d: "m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" }),
            React.createElement('polyline', { points: "9 22 9 12 15 12 15 22" })
        );

        const SearchIcon = () => React.createElement('svg', {
            width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('circle', { cx: 11, cy: 11, r: 8 }),
            React.createElement('path', { d: "m21 21-4.35-4.35" })
        );

        const PlusIcon = () => React.createElement('svg', {
            width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('line', { x1: 12, y1: 5, x2: 12, y2: 19 }),
            React.createElement('line', { x1: 5, y1: 12, x2: 19, y2: 12 })
        );

        const UserIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('path', { d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" }),
            React.createElement('circle', { cx: 12, cy: 7, r: 4 })
        );

        const MenuIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('line', { x1: 3, y1: 6, x2: 21, y2: 6 }),
            React.createElement('line', { x1: 3, y1: 12, x2: 21, y2: 12 }),
            React.createElement('line', { x1: 3, y1: 18, x2: 21, y2: 18 })
        );

        const XIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('line', { x1: 18, y1: 6, x2: 6, y2: 18 }),
            React.createElement('line', { x1: 6, y1: 6, x2: 18, y2: 18 })
        );

        const SettingsIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('circle', { cx: 12, cy: 12, r: 3 }),
            React.createElement('path', { d: "M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" })
        );

        const BellIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('path', { d: "M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" }),
            React.createElement('path', { d: "M13.73 21a2 2 0 0 1-3.46 0" })
        );

        const MessageCircleIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('path', { d: "M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" })
        );

        const SendIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('line', { x1: 22, y1: 2, x2: 11, y2: 13 }),
            React.createElement('polygon', { points: "22 2 15 22 11 13 2 9 22 2" })
        );

        const MapPinIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('path', { d: "M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" }),
            React.createElement('circle', { cx: 12, cy: 10, r: 3 })
        );

        const CalendarIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('rect', { x: 3, y: 4, width: 18, height: 18, rx: 2, ry: 2 }),
            React.createElement('line', { x1: 16, y1: 2, x2: 16, y2: 6 }),
            React.createElement('line', { x1: 8, y1: 2, x2: 8, y2: 6 }),
            React.createElement('line', { x1: 3, y1: 10, x2: 21, y2: 10 })
        );

        const ClockIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('circle', { cx: 12, cy: 12, r: 10 }),
            React.createElement('polyline', { points: "12 6 12 12 16 14" })
        );

        const UsersIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('path', { d: "M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" }),
            React.createElement('circle', { cx: 9, cy: 7, r: 4 }),
            React.createElement('path', { d: "M23 21v-2a4 4 0 0 0-3-3.87" }),
            React.createElement('path', { d: "M16 3.13a4 4 0 0 1 0 7.75" })
        );

        const StarIcon = ({ size = 24, fill = false }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", 
            fill: fill ? "currentColor" : "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('polygon', { points: "12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" })
        );

        const CoffeeIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('path', { d: "M18 8h1a4 4 0 0 1 0 8h-1" }),
            React.createElement('path', { d: "M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z" }),
            React.createElement('line', { x1: 6, y1: 1, x2: 6, y2: 4 }),
            React.createElement('line', { x1: 10, y1: 1, x2: 10, y2: 4 }),
            React.createElement('line', { x1: 14, y1: 1, x2: 14, y2: 4 })
        );

        const FilmIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('rect', { x: 2, y: 2, width: 20, height: 20, rx: 2.18, ry: 2.18 }),
            React.createElement('line', { x1: 7, y1: 2, x2: 7, y2: 22 }),
            React.createElement('line', { x1: 17, y1: 2, x2: 17, y2: 22 }),
            React.createElement('line', { x1: 2, y1: 12, x2: 22, y2: 12 }),
            React.createElement('line', { x1: 2, y1: 7, x2: 7, y2: 7 }),
            React.createElement('line', { x1: 2, y1: 17, x2: 7, y2: 17 }),
            React.createElement('line', { x1: 17, y1: 17, x2: 22, y2: 17 }),
            React.createElement('line', { x1: 17, y1: 7, x2: 22, y2: 7 })
        );

        const DumbbellIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('path', { d: "m6.5 6.5 11 11" }),
            React.createElement('path', { d: "M21 21v-7a2 2 0 0 0-4 0v7" }),
            React.createElement('path', { d: "M3 3h7a2 2 0 0 1 0 4H3" }),
            React.createElement('path', { d: "M14 3h7a2 2 0 0 1 0 4h-7" }),
            React.createElement('path', { d: "M3 17v4a2 2 0 0 0 4 0v-4" })
        );

        const PaletteIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('circle', { cx: 13.5, cy: 6.5, r: 0.5 }),
            React.createElement('circle', { cx: 17.5, cy: 10.5, r: 0.5 }),
            React.createElement('circle', { cx: 8.5, cy: 7.5, r: 0.5 }),
            React.createElement('circle', { cx: 6.5, cy: 12.5, r: 0.5 }),
            React.createElement('path', { d: "M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z" })
        );

        const LogOutIcon = ({ size = 24 }) => React.createElement('svg', {
            width: size, height: size, viewBox: "0 0 24 24", fill: "none", 
            stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round"
        },
            React.createElement('path', { d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" }),
            React.createElement('polyline', { points: "16 17 21 12 16 7" }),
            React.createElement('line', { x1: 21, y1: 12, x2: 9, y2: 12 })
        );

        // === MAIN APP COMPONENT ===
        const SocialSpot = () => {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                checkUser();
            }, []);

            const checkUser = async () => {
                try {
                    // Aspetta che supabaseClient sia disponibile
                    if (!supabaseClient) {
                        supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                    }
                    
                    const { data: { user } } = await supabaseClient.auth.getUser();
                    if (user) {
                        setUser(user);
                    }
                } catch (error) {
                    console.error('Errore nel controllo utente:', error);
                } finally {
                    setLoading(false);
                }
            };

            if (loading) {
                return React.createElement('div', { 
                    className: "min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 to-orange-500" 
                },
                    React.createElement('div', { className: "bg-white rounded-2xl shadow-xl px-8 py-8" },
                        React.createElement('div', { className: "flex items-center space-x-3" },
                            React.createElement('div', { className: "w-12 h-12 bg-gradient-to-r from-blue-600 to-orange-500 rounded-xl animate-pulse" }),
                            React.createElement('span', { className: "text-2xl font-bold text-gray-800" }, "Caricamento...")
                        )
                    )
                );
            }

            if (!user) {
                return React.createElement(AuthForm, { onSuccess: checkUser });
            }

            return React.createElement(MainApp, { user });
        };

        // === AUTH FORM COMPONENT ===
        const AuthForm = ({ onSuccess }) => {
            const [isLogin, setIsLogin] = useState(true);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');
            const [formData, setFormData] = useState({
                email: '',
                password: '',
                username: '',
                fullName: '',
                city: 'Milano',
                district: ''
            });

            const handleSubmit = async (e) => {
                e.preventDefault();
                setLoading(true);
                setError('');
                
                try {
                    // Assicurati che supabaseClient sia disponibile
                    if (!supabaseClient) {
                        supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                    }
                    
                    if (isLogin) {
                        const { error } = await supabaseClient.auth.signInWithPassword({
                            email: formData.email,
                            password: formData.password
                        });
                        if (error) throw error;
                    } else {
                        const { data: authData, error: authError } = await supabaseClient.auth.signUp({
                            email: formData.email,
                            password: formData.password,
                            options: {
                                data: {
                                    username: formData.username,
                                    full_name: formData.fullName,
                                    city: formData.city,
                                    district: formData.district
                                }
                            }
                        });
                        
                        if (authError) throw authError;
                        
                        if (authData.user) {
                            await new Promise(resolve => setTimeout(resolve, 1000));
                        }
                    }
                    onSuccess();
                } catch (error) {
                    setError(error.message);
                } finally {
                    setLoading(false);
                }
            };

            return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-blue-600 to-orange-500 flex items-center justify-center p-4" },
                React.createElement('div', { className: "bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md" },
                    React.createElement('div', { className: "text-center mb-8" },
                        React.createElement('div', { className: "w-20 h-20 bg-gradient-to-r from-blue-600 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4" },
                            React.createElement('span', { className: "text-white font-bold text-3xl" }, "SS")
                        ),
                        React.createElement('h1', { className: "text-3xl font-bold bg-gradient-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent" }, "SocialSpot"),
                        React.createElement('p', { className: "text-gray-600 mt-2" }, "Connettiti con eventi locali")
                    ),
                    React.createElement('form', { onSubmit: handleSubmit, className: "space-y-4" },
                        React.createElement('div', null,
                            React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Email"),
                            React.createElement('input', {
                                type: "email",
                                required: true,
                                value: formData.email,
                                onChange: e => setFormData({ ...formData, email: e.target.value }),
                                className: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            })
                        ),
                        React.createElement('div', null,
                            React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Password"),
                            React.createElement('input', {
                                type: "password",
                                required: true,
                                value: formData.password,
                                onChange: e => setFormData({ ...formData, password: e.target.value }),
                                className: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            })
                        ),
                        !isLogin && React.createElement(React.Fragment, null,
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Username"),
                                React.createElement('input', {
                                    type: "text",
                                    required: true,
                                    value: formData.username,
                                    onChange: e => setFormData({ ...formData, username: e.target.value }),
                                    className: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                })
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Nome completo"),
                                React.createElement('input', {
                                    type: "text",
                                    required: true,
                                    value: formData.fullName,
                                    onChange: e => setFormData({ ...formData, fullName: e.target.value }),
                                    className: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                })
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-1" }, "Quartiere"),
                                React.createElement('input', {
                                    type: "text",
                                    value: formData.district,
                                    onChange: e => setFormData({ ...formData, district: e.target.value }),
                                    placeholder: "es. Navigli",
                                    className: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                })
                            )
                        ),
                        error && React.createElement('div', { className: "bg-red-50 text-red-600 p-3 rounded-lg text-sm" }, error),
                        React.createElement('button', {
                            type: "submit",
                            disabled: loading,
                            className: "w-full bg-gradient-to-r from-blue-600 to-orange-500 text-white py-3 rounded-lg font-semibold hover:opacity-90 disabled:opacity-50 transition-opacity"
                        }, loading ? 'Caricamento...' : (isLogin ? 'Accedi' : 'Registrati'))
                    ),
                    React.createElement('div', { className: "mt-6 text-center" },
                        React.createElement('button', {
                            onClick: () => { setIsLogin(!isLogin); setError(''); },
                            className: "text-blue-600 hover:underline"
                        }, isLogin ? 'Non hai un account? Registrati' : 'Hai giÃ  un account? Accedi')
                    )
                )
            );
        };

        // === MAIN APP COMPONENT ===
        const MainApp = ({ user }) => {
            return React.createElement('div', { className: "min-h-screen bg-gray-50 flex items-center justify-center p-8" },
                React.createElement('div', { className: "bg-white rounded-2xl shadow-xl p-8 text-center max-w-2xl w-full" },
                    React.createElement('div', { className: "w-24 h-24 bg-gradient-to-r from-blue-600 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6" },
                        React.createElement('span', { className: "text-white font-bold text-4xl" }, "SS")
                    ),
                    React.createElement('h1', { className: "text-4xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent" }, "SocialSpot"),
                    React.createElement('p', { className: "text-xl text-gray-600 mb-8" }, "Connettiti con eventi locali"),
                    React.createElement('div', { className: "bg-green-50 border border-green-200 rounded-xl p-6 mb-8" },
                        React.createElement('h2', { className: "text-2xl font-bold text-green-800 mb-2" }, "ðŸŽ‰ Benvenuto!"),
                        React.createElement('p', { className: "text-green-700" }, 
                            "Sei collegato con successo a SocialSpot! L'app Ã¨ pronta e funzionante."
                        )
                    ),
                    React.createElement('div', { className: "grid grid-cols-2 gap-4 mb-8" },
                        React.createElement('div', { className: "bg-blue-50 p-4 rounded-xl" },
                            React.createElement(CalendarIcon, { size: 32 }),
                            React.createElement('h3', { className: "font-semibold mt-2" }, "Eventi"),
                            React.createElement('p', { className: "text-sm text-gray-600" }, "Scopri eventi locali")
                        ),
                        React.createElement('div', { className: "bg-orange-50 p-4 rounded-xl" },
                            React.createElement(UsersIcon, { size: 32 }),
                            React.createElement('h3', { className: "font-semibold mt-2" }, "Community"),
                            React.createElement('p', { className: "text-sm text-gray-600" }, "Connettiti con persone")
                        ),
                        React.createElement('div', { className: "bg-green-50 p-4 rounded-xl" },
                            React.createElement(MessageCircleIcon, { size: 32 }),
                            React.createElement('h3', { className: "font-semibold mt-2" }, "Chat"),
                            React.createElement('p', { className: "text-sm text-gray-600" }, "Messaggi di gruppo")
                        ),
                        React.createElement('div', { className: "bg-purple-50 p-4 rounded-xl" },
                            React.createElement(SearchIcon, { size: 32 }),
                            React.createElement('h3', { className: "font-semibold mt-2" }, "Ricerca"),
                            React.createElement('p', { className: "text-sm text-gray-600" }, "Trova eventi per te")
                        )
                    ),
                    React.createElement('p', { className: "text-gray-500 text-sm mb-6" }, 
                        "Database collegato e autenticazione attiva. Tutte le funzionalitÃ  sono operative."
                    ),
                    React.createElement('button', {
                        onClick: async () => {
                            if (!supabaseClient) {
                                supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                            }
                            await supabaseClient.auth.signOut();
                            window.location.reload();
                        },
                        className: "bg-gradient-to-r from-blue-600 to-orange-500 text-white px-8 py-3 rounded-xl font-semibold hover:opacity-90 transition-opacity"
                    }, "Disconnettiti")
                )
            );
        };

        // Render the app
        ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(SocialSpot));
    </script>
</body>
</html>
